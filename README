==============
 slurm_hog.py
==============

slurm_hog.py is a simple python utility for queuing serial jobs to a HPC 
cluster that only supports allocating entire nodes. It uses an sqlite database
to communicate between nodes which requires that cluster-wide flock to be
enabled. Without this, sqlite will not be able to synchronize writes and bad
things will happen.

Dependencies
============

* Python 3
* Sqlite3
* apsw

Usage
=====

slurm_hog.py should be on your $PATH for ease of use. Functionality is provided
in subcommands. Before doing anything one should create a databse with `init`.
Basic batch queueing functionality is provided by the subcommands: submit, 
check, cancel, show. The `hog` command can be launched to the backend queue
manually to start running jobs, but it is recommended to launch a single 
`monitor` command configured to maintain a fixed number of `hog` jobs on the
queue for extended use.

See the --help for each subcommand more information and configuration options.

Scalability
===========

If the jobs finish very fast, there may be load issues with sqlite as the
database file must be locked for every write. Similarly if the filesystem is 
very slow one may encounter issues. The default database timeout is 60s and
increasing this may help avoid issues.
